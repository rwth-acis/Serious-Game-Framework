<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Serious Game Framework</title>

	<!-- include jQuery and jQuery UI -->
	<script src="assets/scripts/jquery-1.10.2.min.js"></script>

	<script>
		$(document).bind('mobileinit',function() {
			$.mobile.pushStateEnabled = false;
		});
	</script>

	<!-- <script src="js/jquery-2.0.2.min.js"></script> -->
	<!-- <script src="jqueryui/ui/jquery.ui.position.min.js"></script> -->
	<script src="assets/scripts/jqueryui/ui/jquery.ui.core.min.js"></script>
	<script src="assets/scripts/jqueryui/ui/jquery.ui.widget.min.js"></script>
	<script src="assets/scripts/jqueryui/ui/jquery.ui.mouse.min.js"></script>
	<script src="assets/scripts/jqueryui/ui/jquery.ui.draggable.min.js"></script>
	<script src="assets/scripts/jqueryui/ui/jquery.ui.droppable.min.js"></script>
	<script src="assets/scripts/jqueryui/ui/jquery.ui.progressbar.min.js"></script>
	<!-- <script src="jqueryui/ui/jquery.ui.resizable.min.js"></script> -->
	<!-- <script src="jqueryui/ui/jquery.ui.dialog.min.js"></script> -->

	<!-- Styles for intro,js Site Tour -->
	<!-- <link href="styles/bootstrap.min.css" rel="stylesheet"> -->
	<!-- <link href="styles/intro.css" rel="stylesheet"> -->
	<link href="assets/styles/introjs.min.css" rel="stylesheet">
	<!-- <link href="styles/bootstrap-responsive.min.css" rel="stylesheet"> -->

	<!-- include jQuery UI stylesheet -->
	<link rel="stylesheet" href="assets/scripts/jqueryui/themes/jquery.ui.all.css">
	<!-- <link rel="stylesheet" href="styles/demos.css"> -->

	<!-- include jQuery Mobile stylesheet -->
	<link rel="stylesheet" href="assets/scripts/jquerymobile/jquery.mobile-1.3.1.min.css">

	<!-- blueimp Gallery styles -->
	<!-- <link rel="stylesheet" href="css/blueimp-gallery.min.css"> -->

	<!-- include own stylesheet -->
	<link rel="stylesheet" href="assets/styles/profile.css">
	<link rel="stylesheet" href="assets/styles/style.css">

	<!-- include jQuery Storage API by Julien Maurel -->
	<!-- <script src="js/jquery.storageapi.min.js"></script> -->

	<!-- include blueimp Gallery plugin by Sebastian Tschan -->
	<!-- <script src="js/jquery.blueimp-gallery.min.js"></script> -->

	<!-- include jQuery Mobile -->
	<script src="assets/scripts/jquerymobile/jquery.mobile-1.3.1.min.js"></script>

	<!-- include jQuery UI Touch Punch Â© 2011 David Furfero  -->
	<script src="assets/scripts/jquery.ui.touch-punch.min.js"></script>

	<!-- include intro.js -->
	<script type="text/javascript" src="assets/scripts/intro.min.js"></script>

	<!-- import JWS and JSRSASIGN (OpenID Connect) -->
	<script type="text/javascript" src="assets/scripts/oidc/jsjws/jws-2.0.js"></script>
	<script type="text/javascript" src="assets/scripts/oidc/jsrsasign/ext/base64.js"></script>
	<script type="text/javascript" src="assets/scripts/oidc/jsrsasign/base64x-1.1.js"></script>
	<script type="text/javascript" src="assets/scripts/oidc/jsrsasign/ext/jsbn.js"></script>
	<script type="text/javascript" src="assets/scripts/oidc/jsrsasign/ext/jsbn2.js"></script>
	<script type="text/javascript" src="assets/scripts/oidc/jsrsasign/asn1hex-1.1.js"></script>
	<script type="text/javascript" src="assets/scripts/oidc/jsrsasign/crypto-1.1.js"></script>
	<script type="text/javascript" src="assets/scripts/oidc/jsrsasign/ext/rsa.js"></script>
	<script type="text/javascript" src="assets/scripts/oidc/jsrsasign/ext/rsa2.js"></script>
	<script type="text/javascript" src="assets/scripts/oidc/jsrsasign/rsapem-1.1.js"></script>
	<script type="text/javascript" src="assets/scripts/oidc/jsrsasign/rsasign-1.2.min.js"></script>
	<script type="text/javascript" src="assets/scripts/oidc/jsrsasign/x509-1.1.js"></script>
	<script type="text/javascript" src="assets/scripts/oidc/jsrsasign/crypto-1.1.js"></script>

	<!-- import libraries for OpenBadges, Gleaner database and Google Charts -->
	<script type="text/javascript" src="https://backpack.openbadges.org/issuer.js"></script>
	<script type="text/javascript" src="lib/badge-asserter.js"></script>
	<script type="text/javascript" src="lib/gleaner-tracker.js"></script>
	<script type="text/javascript" src="lib/chart-creator.js"></script>
	<script type="text/javascript" src="https://www.google.com/jsapi"></script>
	<script>
			// Insert Statistics and Charts
			// Load the Visualization API and the piechart package.
			google.load('visualization', '1.0', {'packages':['corechart']});
		  // Set a callback to run when the Google Visualization API is loaded.
		  // google.setOnLoadCallback(drawChart);
		</script>

		<!-- <script src="data/games.json"></script>-->
		<!-- <script src="data/connections.json"></script>
		<script src="data/levels.json"></script>
		<script src="data/pieces.json"></script>-->
		<script src="data/tutorials.json"></script>  

		<!-- include own JavaScript library -->
		<script type="text/javascript" src="assets/scripts/loadData.js"></script>
		<script type="text/javascript" src="assets/scripts/createUIElements.js"></script>
		<script type="text/javascript" src="assets/scripts/setGalleryHeightWidth.js"></script>
		<script type="text/javascript" src="assets/scripts/managegalleries.js"></script>
		<script type="text/javascript" src="assets/scripts/managebadges.js"></script>
		<script type="text/javascript" src="assets/scripts/manageconnections.js"></script>
		<script type="text/javascript" src="assets/scripts/managegames.js"></script>
		<script type="text/javascript" src="assets/scripts/manageexperiencerules.js"></script>
		<script type="text/javascript" src="assets/scripts/manageHighscoreRules.js"></script>
		<script type="text/javascript" src="assets/scripts/manageBadgeRules.js"></script>
		<script type="text/javascript" src="assets/scripts/manageGameRules.js"></script>
		<script type="text/javascript" src="assets/scripts/serious-game-framework-new.js"></script>

		<!-- Configuration for mobile devices -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black" />
		<link rel="apple-touch-icon-precomposed"  href="assets/images/icon-ipad.png" sizes="72x72" />
		<link rel="apple-touch-icon-precomposed"  href="assets/images/icon-iphone.png" sizes="144x144" />
		<link rel="apple-touch-icon-precomposed"  href="assets/images/icon-iphone.png" sizes="114x114" />
		<link rel="apple-touch-icon-precomposed"  href="assets/images/icon-iphone.png" />
		<link rel="apple-touch-startup-image" href="assets/images/splash-iphone.png" />
		<link rel="icon" href="assets/images/favicon.png" type="image/png">
	</head>
	<body>
		<div id="home" data-role="page" class="ui-helper-clearfix bodywrapper">
			<div data-role="header" data-theme="b">
				<h1>Serious Game Framework</h1>
				<div data-inline="true" class="ui-btn-right">
				<a href="https://goo.gl/forms/CqFAHaOIkC1GPHwi2" target="_blank" data-role="button" data-inline="true" data-rel="dialog">Feedback</a>
				<a href="#options" data-icon="gear" data-role="button" class="options-button" data-inline="true" data-rel="dialog">Options</a>
				</div>
				<span data-role="button" data-inline="true" data-corners="true" class="ui-btn-left">
					<span class="oidc-signin"
					data-callback="signinCallback"
					data-name="Learning Layers"
					data-logo="http://learning-layers.eu/wp-content/themes/learninglayers/images/logo.png"
					data-server="https://api.learning-layers.eu/o/oauth2"
					data-clientid="5af6f4dc-a102-4811-ab00-b1eb4114c908"
					data-scope="openid email profile phone"
					data-size="sm">
				</span>
			</span>
		</div>
		<div data-role="content">
			<ul data-role="listview" data-inset="true" class="menulist">
				<li><a href="#playgames" id="playgameslink"><h3 style="color:#0456a2;">Play Games</h3><p style="color:#0456a2;">Tutorial and Games</p></a></li>
				<!-- filled dynamically -->
				<!-- <li><a href="#game" class="gamelink" game-id="0"><h3>Test</h3><p>Test.</p></a></li> -->
			</ul>
		</div>
	</div>

	<div id="playgames" data-role="page" class="ui-helper-clearfix bodywrapper">
		
		<div data-role="content">
			<ul id="gameslistId" data-role="listview" data-inset="true" class="gameslist">

			</ul>
		</div>
	</div>

	<div id="gameDescriptionPage" data-role="page" class="ui-helper-clearfix bodywrapper">
		<div data-role="content">
			<div data-theme="c" data-form="ui-body-c" class="ui-body ui-body-c ui-corner-all" style="width:50%;text-align: center; margin: auto;">
				<h2 style="text-align: center;">Game Description</h2>
				<div id="descriptionTextDiv" class="description">
					
				</div> 
			</div>
			<br>
			<div data-theme="c" data-form="ui-body-c" class="ui-body ui-body-c ui-corner-all" style="width: 17%;text-align: center;margin: auto;">
				<div class="linktogame">
					<a href="#game" class="playGameLink">Play Game</a>
				</div>
			</div>
		</div>
	</div>

	<div id="game" data-role="page" class="ui-helper-clearfix bodywrapper">
		<div id="game-header" data-role="header" data-theme="b">
			<a href="#" data-icon="arrow-l" id="game-header-home" class="ui-btn-left" data-iconpos="notext"  data-rel="back">Home</a>
			<h1 class="gametitle"></h1>
			<div data-inline="true" class="ui-btn-right">
				<a href="https://goo.gl/forms/CqFAHaOIkC1GPHwi2" target="_blank" data-role="button" data-inline="true" data-rel="dialog">Feedback</a>
				<a href="#options" data-icon="gear" id="game-header-options" data-role="button" class="options-button" data-inline="true" data-rel="dialog">Options</a>
			</div>
		</div>
		<div data-role="content">
			<div id="wrappergameboard">
				<span id="gameboard" class="gameboard ui-widget-content">
					<table class="slots ui-helper-reset">
						<tr class="slotheader">
							<td><h4 id="header-slot0" class="ui-widget-header">Slot 1</h4></td>
							<td> </td>
							<td><h4 id="header-slot1" class="ui-widget-header">Slot 2</h4></td>
							<td> </td>
							<td id="headerslot2td"><h4 id="header-slot2" class="ui-widget-header">Slot 3</h4></td>
							<td> </td>
							<td id="headerslot3td"><h4 id="header-slot3" class="ui-widget-header">Slot 4</h4></td>
						</tr>
						<tr id="gameSlots">
							<!-- Slots and Connections filled by createUIElements.js -->
						</tr>
					</table>
				</span>
				<span id="levelcontrol" class="ui-widget-content">
					<!-- Buttons and Links filled by createUIElements.js -->
				</span>
			</div>
			<div id=gameBoardGalleries>
				<!-- Galleries filled by createUIElements.js -->
			</div>

		</div>
	</div>

	<div id="options" data-role="page" class="ui-helper-clearfix bodywrapper" data-theme="c" data-overlay-theme="c">
		<div data-role="header" data-theme="c">
			<h1>Options</h1>
		</div>
		<div data-role="content">
			<form id="optionsform">
				<div data-role="fieldcontain">
					<fieldset data-role="controlgroup">
						<legend>Difficulty:</legend>
						<input type="radio" name="difficulty" id="difficulty-choice1" value="1" disabled="disabled" />
						<label for="difficulty-choice1">Easy</label>

						<input type="radio" name="difficulty" id="difficulty-choice2" value="2" disabled="disabled" />
						<label for="difficulty-choice2">Medium</label>

						<input type="radio" name="difficulty" id="difficulty-choice3" value="3" />
						<label for="difficulty-choice3">Free game</label>

						<input type="radio" name="difficulty" id="difficulty-choice4" value="4" />
						<label for="difficulty-choice4">Difficult</label>
						<p>New difficulty level will take effect at the next set.<p>
						</fieldset>
					</div>
					<input type="submit" value="OK" data-role="button" data-icon="check" />
				</form>
			</div>
		</div>

		<!-- Profile Page -->
		<div id="profile" data-role="page" class="ui-helper-clearfix bodywrapper">
			<div data-role="content">
				<div id="user-info" class="ui-widget-content">
					<div id="user_img">
						<img src="https://api.learning-layers.eu/profile.png">
					</div>
					<div id="profile_tags">
						<div>Username: </div>
						<div>Name: </div>
						<div>Email: </div>
						<!--<div>Phone number: </div>-->
					</div>
					<div id="profile_info">
						<div id="user_name"></div>
						<div id="user_real_name"></div>
						<div id="user_email"></div>
						<!--<div id="user_phone"></div>-->
					</div>
				</div>

				<div id="experience" class="ui-widget-content">
					<div id="experience-header">Experience</div>

					<img id="experience-badge" />

					<div id="experience-data">
						<div id="level-name">
						</div>

						<div id="progressbar">
							<div class="progress-label">
							</div>
						</div>

						<div id="experience-tags">
							<div>Total experience: </div>
							<div>Level experience: </div>
							<div>Experience to next level: </div>
						</div>

						<div id="experience-info">
							<div id="total-exp"></div>
							<div id="level-exp"></div>
							<div id="exp-to-next"></div>
						</div>
					</div>
				</div>

				<div id="earned-badges" class="ui-widget-content">
					<div id="badges-header">Badges</div>

					<div id="badges-container">
					</div>
				</div>

				<div id="high-score" class="ui-widget-content">
					<div id="score-header">High Scores</div>

					<table data-role="table" id="high-score-table" data-mode="columntoggle" class="ui-responsive table-stripe">
						<thead>
							<tr class="ui-bar-d">
								<th>Rank</th>
								<th>User</th>
								<th>High Score</th>
							</tr>
						</thead>
						<tbody>
						</tbody>
					</table>
				</div>

				<!-- Stats for Players -->
				<div class="ui-widget-content stats" id="player">
					<div class="stats-header">Statistics</div>

					<div data-role="fieldcontain">
						<label for="stats-game-select" class="select">Choose Game: </label>
						<select name="stats-game-select" id="stats-game-select"></select>
					</div>

					<div id="player-worst-levels">
						<div class="worst-header">Worst Levels</div>
					</div>

					<div data-role="fieldcontain" id="player-choose-chart">
						<fieldset data-role="controlgroup" data-type="horizontal" data-role="fieldcontain">
							<legend>Choose a chart:</legend>
							<input type="radio" name="chart-choice" id="chart-1" value="pie" checked="checked" />
							<label for="chart-1">Pie</label>

							<input type="radio" name="chart-choice" id="chart-2" value="bar" />
							<label for="chart-2">Bar</label>
						</fieldset>
					</div>

					<div id="player-chart-container">
					</div>

					<div id="player-no-records">
						No records have been found! You might want to play this game for a while.
					</div>
				</div>
				<!-- END Stats for Players END -->

				<!-- Stats for Game Designers -->
				<div class="ui-widget-content stats" id="game-designer">
					<div class="stats-header">Statistics of games created by you</div>

					<div data-role="fieldcontain">
						<label for="designer-stats-game-select" class="select">Choose Game: </label>
						<select name="designer-stats-game-select" id="designer-stats-game-select"></select>
					</div>

					<div id="designer-worst-levels">
						<div class="worst-header">Worst Levels</div>
					</div>

					<div data-role="fieldcontain" id="designer-choose-chart">
						<fieldset data-role="controlgroup" data-type="horizontal" data-role="fieldcontain">
							<legend>Choose a chart:</legend>
							<input type="radio" name="designer-chart-choice" id="designer-chart-1" value="pie" checked="checked" />
							<label for="designer-chart-1">Pie</label>

							<input type="radio" name="designer-chart-choice" id="designer-chart-2" value="bar" />
							<label for="designer-chart-2">Bar</label>
						</fieldset>
					</div>

					<div id="designer-chart-container">
					</div>

					<div id="designer-no-records">
						No records found! Your students might want to play some games.
					</div>
				</div>
				<!-- END Stats for Game Designers END -->

				<!-- Stats for Admins -->
				<div class="ui-widget-content stats" id="admin">
					<div class="stats-header">Admin Statistics</div>

					<div data-role="fieldcontain">
						<label for="admin-stats-game-select" class="select">Choose Game: </label>
						<select name="admin-stats-game-select" id="admin-stats-game-select"></select>
					</div>

					<div data-role="fieldcontain">
						<fieldset data-role="controlgroup" data-type="horizontal" data-role="fieldcontain">
							<legend>Choose a chart:</legend>
							<input type="radio" name="admin-chart-choice" id="admin-chart-1" value="pie" checked="checked" />
							<label for="admin-chart-1">Pie</label>

							<input type="radio" name="admin-chart-choice" id="admin-chart-2" value="bar" />
							<label for="admin-chart-2">Bar</label>
						</fieldset>
					</div>

					<div id="admin-chart-container">
					</div>
				</div>
				<!-- END Stats for Admins END -->
			</div>
		</div>

		<div id="gameDesignerView" data-role="page" class="ui-helper-clearfix bodywrapper">
			<div data-role="content">
				<ul data-role="listview" data-inset="true">
					<li><a href="#editgalleries" id="editgallerieslink"><h3 style="color: #333399;">Manage Galleries</h3><p style="color: #333399;">Create new Pieces or galleries and delete existing ones.</p></a></li>
					<li><a href="#connections" id="editconnectionslink"><h3 style="color: #9b319b;">Manage Connections</h3><p style="color: #9b319b;">Create new Connections and delete existing ones.</p></a></li>
					<li><a href="#games"><h3 style="color: #990033;">Manage Games</h3><p style="color: #990033;">Create new games or edit existing ones.</p></a></li>
					<!-- <li><a href="#badges" id="editbadgeslink"><h3>Manage Badges</h3><p>Create new Badges and delete existing ones.</p></a></li> -->
				</ul>
			</div>
		</div>
		<div id="editgalleries" data-role="page" class="ui-helper-clearfix bodywrapper">
			<!-- Header Filled by createUIElements.js -->
			<div data-role="content">
				<div class="ui-content">
				<h2 style="color:#333399;">Create Gallery</h2>
					<div id="galleryInputFields">
						<!-- Input Fields Filled by createUIElements.js -->
					</div>
					<div id="create-gallery-message"></div>
					<h2 style="color:#333399;">Edit Gallery</h2>
					<fieldset id="galleriesSelectEditDelete" class="ui-grid-b sideByside">
						<!-- Select, Edit and Delete Fields Filled by createUIElements.js -->
					</fieldset>
					<div id="gallery-saved-message"></div>
					<div id="gallery-description-message"></div>

					<div id="gallery-description">
						
					</div>
					<fieldset id="galleriesfieldset" class="ui-grid-solo sideByside">
						<div id="manageGalleriesblocka" class="ui-block-a">
							<!-- Gallery Filled by createUIElements.js -->
						</div>
						<div  class="ui-block-b">
							<fieldset id="manageGalleriesblockb" data-role="fieldcontain" class="ui-block-b">
								<!-- Delete and Upload Buttons Filled by createUIElements.js -->
							</fieldset>
						</div>
					</fieldset>
					
				</div>
			</div>
		</div>


		<div id="connections" data-role="page" class="ui-helper-clearfix bodywrapper">
			<div data-role="content">
				<div id="connectionsBlockMain" class="ui-content">
					<fieldset class="ui-grid-solo sideByside">
						<div  id="connectionsblocka" class="ui-block-a">
							<!-- Gallery Filled by createUIElements.js -->
						</div>
						<div  class="ui-block-b">
							<fieldset id="connectionsblockb" data-role="fieldcontain" class="ui-block-b">
								<!-- Buttons Filled by createUIElements.js -->
							</fieldset>
						</div>
					</fieldset>
					<div id="connection-saved-message"></div>
				</div>
			</div>
		</div>

		<div id="games" data-role="page" class="ui-helper-clearfix bodywrapper">
			<div data-role="content">
				<ul data-role="listview" data-inset="true">
					<li><a href="#creategames" id="creategameslink"><h3 style="color: brown;">Create Games</h3><p style="color: brown;">Create new games</p></a></li>
					<li><a href="#editgames" id="editgameslink"><h3 style="color: brown;">Edit Games</h3><p style="color: brown;">Edit existing games.</p></a></li>
				</ul>
			</div>
		</div>
		<div id="creategames" data-role="page" class="ui-helper-clearfix bodywrapper">
			<div data-role="content">
				<div class="ui-content">
					<h2 style="color:brown;">Game Designer Details</h2>
					<div id="gamedesignerdetails">
						<!-- Input Fields Filled by createUIElements.js -->
					</div>
					<h2 style="color: brown;">Game Details</h2>
					<div id="gamedetails">
						<!-- Input Fields, Galleries and buttons Filled by createUIElements.js -->
					</div>
					<div id="create-game-message"></div>
				</div>
			</div>
		</div>

		<div id="editgames" data-role="page" class="ui-helper-clearfix bodywrapper">
			<div data-role="content">
				<div class="ui-content">
					<fieldset id="gameSelectEditDelete" class="ui-grid-b sideByside">
						<!-- Select, Edit and Delete buttons Filled by createUIElements.js -->
					</fieldset>
					<div id="game-description-message"></div>
					<div id="editgamesection" class="hideElement">
						<h2 style="color:brown;" id="editGameDesignerDetailsHeader">Edit Game Designer Details</h2>
						<div id="editGameDesignerDetails">
							<!-- Game details Filled by createUIElements.js -->
						</div>
						
						<h2 style="color:brown;" id="editGameDetailsHeader">Edit Game Details</h2>
						<div id="editGameDetails">
							<!-- Game details Filled by createUIElements.js -->
						</div>
						<div id="edit-game-details-message"></div>

						<h2 style="color:brown;" id="addLevelsHeader">Add Levels</h2>
						<div id="gameEditGalleries">
							<!-- Galleries and buttons Filled by createUIElements.js -->
						</div>
						<div id="add-level-message"></div>

						<h2 style="color:brown;" id="deleteLevelsHeader">Edit Levels</h2>
						<fieldset id="editlevels-fieldset" class="ui-grid-b sideByside">
							<div  class="ui-block-a">
								<span id="editgameboard" levelNo="0" class="gameboard ui-widget-content">
									<table class="slots ui-helper-reset">
										<tr class="slotheader">
											<td><h4 id="editheader-slot0" class="ui-widget-header">Slot 1</h4></td>
											<td> </td>
											<td><h4 id="editheader-slot1" class="ui-widget-header">Slot 2</h4></td>
											<td> </td>
											<td id="editheaderslot2td"><h4 id="editheader-slot2" class="ui-widget-header">Slot 3</h4></td>
											
											<td id="editheaderslot3td"><h4 id="editheader-slot3" class="ui-widget-header">Slot 4</h4></td>
										</tr>
										<tr id=editGameSlots>
										<!-- Slots and buttons Filled by createUIElements.js -->
										</tr>
									</table>
								</span>
							</div>
						</fieldset>
						<div id="editLevelInfo">
						<!-- Links and buttons Filled by createUIElements.js -->
						</div>
						<div id="editLevelMessage"></div>
											
						<h2 id="changeConnectionHeader">Change Connection</h2>

						<fieldset id="changeconnection1-fieldset" class="ui-grid-solo sideByside">
							<!-- Gallery and button Filled by createUIElements.js -->
						</fieldset>
						<fieldset id="changeconnection2-fieldset" class="hideElement ui-grid-solo sideByside">
							<!-- Gallery and button Filled by createUIElements.js -->
						</fieldset>
						<fieldset id="changeconnection3-fieldset" class="hideElement ui-grid-solo sideByside">
						<!-- Gallery and button Filled by createUIElements.js -->
						</fieldset>
						<div id="changeConnectionMessage"></div>
					</div>
				</div>
			</div>
		</div>
		<audio id="achievement_sound" src="data/badges/sound.wav" preload="auto"></audio>



		<div id="assessmentSystemView" data-role="page" class="ui-helper-clearfix bodywrapper">
			<div data-role="content">
				<ul data-role="listview" data-inset="true">
					<li><a href="#assessmentrules " id="assessmentruleslink"><h3 style="color: #0e8866;">Manage Assessment Rules</h3><p style="color: #0e8866;">Create or Edit Assessment Rules.</p></a></li>
					<li><a href="#gamesrules" id="gamesruleslink"><h3 style="color: #5f0e88;">Game Assessment Rules</h3><p style="color: #5f0e88;">Set Assessment Rules to Games.</p></a></li>
				</ul>
			</div>
		</div>

		<div id="assessmentrules" data-role="page" class="ui-helper-clearfix bodywrapper">
			<div data-role="content">
				<ul data-role="listview" data-inset="true">
					<li><a href="#experiencerules " id="experienceruleslink"><h3 style="color: #308f44">Manage Experience Rules</h3><p style="color: #308f44">Edit Experience Rules.</p></a></li>
					<li><a href="#highscorerules" id="highscoreruleslink"><h3 style="color: #c37719">Manage Highscore Rules</h3><p style="color: #c37719">Create or Edit Highscore rules.</p></a></li>
					<li><a href="#badgerules" id="badgeruleslink"><h3 style="color: #069090">Manage Badge Rules</h3><p style="color: #069090">Create or Edit Badge Rules.</p></a></li>
				</ul>
			</div>
		</div>

		<div id="experiencerules" data-role="page" class="ui-helper-clearfix bodywrapper">
			<div data-role="content">
				<div class="ui-content">
				<h2 style="color: #308f44">Create Experience Badge</h2>
				<div id="experienceBadgeBlock">
					
					</div>
					<fieldset id="AddExperienceBadgeBlock" data-role="fieldcontain">
						
					</fieldset>
					
					<div id="create-experience-badge-message"></div>

					<fieldset class="ui-grid-solo sideByside">
						<div  id="badgeGallery" class="ui-block-a">
							
						</div>
						<div>
							<fieldset id="badgeEditDelete" data-role="fieldcontain" class="ui-block-b">
							
							</fieldset>
						</div>
					</fieldset>
					<h2 style="color: #308f44">Edit Experience Badge</h2>
					<div id="editExperienceBadgeBlock">
					
					</div>
					<div id="experience-badge-saved-message"></div>
					<h2 style="color: #308f44">Experience Calculation Rules</h2>
					<div id="experienceRulesFormula"></div>
					<div id="save-experience-rules-message"></div>	
					<div id=experienceRules>
					
					</div>	
					
				</div>
			</div>
		</div>


		<div id="highscorerules" data-role="page" class="ui-helper-clearfix bodywrapper">
			<div data-role="content">
				<div class="ui-content">
					<h2 style="color: #c37719">Edit Existing Highscore Versions</h2>
					<fieldset id="editHighscoreBlock" class="ui-grid-b sideByside">
					
					</fieldset>	
					<div id="highscore-desc-message"></div>
					<div id="save-highscore-rules-message"></div>
					<h2 style="color: #c37719">Highscore Calculation Rules</h2>
					<div id="highscoreCalBlock">
					
					</div>
					
				</div>
			</div>
		</div>


		<div id="badgerules" data-role="page" class="ui-helper-clearfix bodywrapper">
			<div data-role="content">
				<div class="ui-content">
				<h2 style="color: #069090">Create Badge</h2>
				<div id="BadgeDetailsBlock">
					
					</div>
					<fieldset class="ui-grid-c sideByside">
						<div class="ui-block-a">
							<fieldset data-role="fieldcontain">
								<label for="select-badge-requirement" class="select"> <p style="color: #069090">Select Badge Requirement: <span id="required1">*</span></p></label>
								<select name="select-badge-requirement" id="select-badge-requirement">
									<option value='0' selected=true>--Select Criteria--</option>
									<option value='1'>Game Completion Badge</option>
									<option value='2'>No. of Correct Levels</option>
									<option value='3'>No. of times 'eLearning' link is used</option>
									<option value='4'>No. of times 'More Information' link is used</option>
									<option value='5'>No. of times 'Try Again' is used</option>
									<option value='6'>Poor Performance</option>
									<option value='7'>Tutorial Badge</option>
								</select>
							</fieldset>
						</div>
						<div  class="ui-block-b">
							<fieldset data-role="fieldcontain">
								<input name="game-badge-points" id="game-badge-points" value="" type="text">
							</fieldset>
						</div>

					</fieldset>	
					<div id="game-badge-error-message"></div>
					<fieldset id="uploadBadgeBlock" data-role="fieldcontain">
						
					</fieldset>
					
					<fieldset class="ui-grid-solo sideByside">
						<div  id="gameBadgeGalBlock" class="ui-block-a">
							
						</div>
						<div>
							<fieldset id="editDeleteGameBadgeBlock" data-role="fieldcontain" class="ui-block-b">
							
							</fieldset>
						</div>
					</fieldset>

					<div id="game-badge-saved-message"></div>
					<h2 style="color: #069090">Edit Badge Details</h2>
					<div id="EditBadgeDetailsBlock">
					
					</div>
					<fieldset class="ui-grid-c sideByside">
						<div class="ui-block-a">
							<fieldset data-role="fieldcontain">
								<label for="edit-select-badge-requirement" class="select"> <p style="color: #069090">Select Badge Requirement: <span id="required2">*</span></p></label>
								<select name="edit-select-badge-requirement" id="edit-select-badge-requirement">
									<option value='0' selected=true>--Select Criteria--</option>
									<option value='1'>Game Completion Badge</option>
									<option value='2'>No. of Correct Levels</option>
									<option value='3'>No. of times 'eLearning' link is used</option>
									<option value='4'>No. of times 'More Information' link is used</option>
									<option value='5'>No. of times 'Try Again' is used</option>
									<option value='6'>Poor Performance</option>
									<option value='7'>Tutorial Badge</option>
								</select>
							</fieldset>
						</div>
						<div  class="ui-block-b">
							<fieldset data-role="fieldcontain">
								<input name="edit-game-badge-points" id="edit-game-badge-points" value="" type="text">
							</fieldset>
						</div>

					</fieldset>	
					<div id="gameBadgeSaveButtonDiv"></div>
				</div>
			</div>
		</div>


		<div id="gamesrules" data-role="page" class="ui-helper-clearfix bodywrapper">
			<div data-role="content">
				<div class="ui-content">
					<div id="SelectGameRulesBlock">
					
					</div>
					<div id="rule_gameDescriptionText"></div>
					<div id="editgamerulessection" class="hideElement">
					<div id="EditGameRulesBlock">
					
					</div>
					<h2 style="color: #5f0e88;">Select Game Completion Badge</h2>
					<fieldset class="ui-grid-solo sideByside">
						<div  id="gameBadgeSelectBlock" class="ui-block-a">
						</div>
						
					</fieldset>
					<fieldset id="saveGameRules" data-role="fieldcontain" class="ui-block-b">
						
					</fieldset>	
					<div id="game-assessment-saved-message"></div>
					</div>
				</div>
			</div>
		</div>
		<!-- The blueimp Gallery widget -->
<!-- <div id="blueimp-gallery" class="blueimp-gallery blueimp-gallery-controls" data-filter=":even">
    <div class="slides"></div>
    <h3 class="title"></h3>
    <a class="prev">â¹</a>
    <a class="next">âº</a>
    <a class="close">Ã</a>
    <a class="play-pause"></a>
    <ol class="indicator"></ol>
</div> -->

<!-- Hides the status bar on older android browsers. Not available on Chrome browser (Android 4.0 and above) -->
<script>
	window.scrollTo(0,1);
</script>
<!-- OpenID Connect Button Callback -->
<script type="text/javascript">
	function signinCallback(result) {
			// TODO MARKO result === "success"
			if(oidc_userinfo != undefined) {
	      // after successful sign in, display a welcome string for the user
	      console.log("Hello, " + oidc_userinfo.name + "!");
	      var profile =	$('<li>' +
	      	'<a href="#profile" id="profilelink">' +
	      	'<h3 style="color:#0456a2;">Profile</h3>' +
	      	'<p style="color:#0456a2;">Check your stats and badges!</p>' +
	      	'</a>' +
	      	'</li>');
	      $('.menulist').prepend(profile);

	     var gamedesignerview =	$('<li>' +
	      	'<a href="#gameDesignerView" id="gamedesignerlink">' +
	      	'<h3 style="color:#0456a2;">Design Games</h3>' +
	      	'<p style="color:#0456a2;">Create or Edit games!</p>' +
	      	'</a>' +
	      	'</li>');
	      $('.menulist').append(gamedesignerview);

	     var assessmentsystemview =	$('<li>' +
	      	'<a href="#assessmentSystemView" id="assessmentsystemlink">' +
	      	'<h3 style="color:#0456a2;">Assessment System</h3>' +
	      	'<p style="color:#0456a2;">Create or Edit Assessment rules!</p>' +
	      	'</a>' +
	      	'</li>');
	      $('.menulist').append(assessmentsystemview);

	      if ( $('.menulist').hasClass('ui-listview')) {
				$('.menulist').listview('refresh');
			} 
			else {
				$('.menulist').trigger('create');
			}
	     // $('.menulist').listview('refresh');
	      $('#profilelink').click(function() { loadDataFromDatabase() });
	      startTracking();
	  } else {
	      // if sign in was not successful, log the cause of the error on the console
	      console.log(result);
	      // TODO MARKO
				// alert('Please log in with the button on the top left, so we can track your progress!');
			}
		}

		function loadDataFromDatabase(){
			var url = "assets/scripts/loadData.js";
			$.getScript( url, function() {
				showProfile();
			});
		}
	</script>

	<!-- OpenID Connect Insertion -->
	<script type="text/javascript">
		(function() {
			var po = document.createElement('script');
			po.type = 'text/javascript';
			po.async = true;
			po.src = 'assets/scripts/oidc/oidc-button.js';
			var s = document.getElementsByTagName('script')[0];
			s.parentNode.insertBefore(po, s);
		})();
	</script>
</body>
</html>